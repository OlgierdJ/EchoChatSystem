@using CoreLib.DTO.EchoCore.ChatCore.TextCore
@using CoreLib.Entities.EchoCore.AccountCore
@*
    membercomponent layout for when it exists within the scrollable list in the memberlistcomponent.

    This component should display members displayname, image, and role color.

    Hovering and left-clicking the member allows the user to display the members user profile.

    Hovering and right-clicking the member allows the user to display the user tooltip of the member.
*@
@if (Member != null)
{
    <MudPaper Class="pl-2" Width="20vw" Elevation="0" Square Style=@($"background:{Colors.Shades.Transparent}")>

        @if (Member.ActiveStatus.Id != 4 && Member.ActiveStatus.Id != 5)
        {
            <MudBadge Color="@stringToColor.ConvertStringToColor(Member.ActiveStatus.IconColor)" Bordered Overlap="true" Origin="Origin.BottomRight">
                 <MudImage Src="@Member.ImageIconURL" Height="32" Width="32" ObjectFit="ObjectFit.Cover" Class="rounded-circle mt-1 ml-1" />
             </MudBadge>
        }
        else
        {
            <MudImage Src="@Member.ImageIconURL" Height="32" Width="32" ObjectFit="ObjectFit.Cover" Class="rounded-circle mt-1 ml-1" />
        }
        <MudText Class="pl-3" Typo="Typo.caption">@Member.DisplayName</MudText>
        </MudPaper>
}

@code {
    public readonly StringToColor stringToColor = new();

    [Parameter]
    public MemberDTO Member { get; set; }
}
